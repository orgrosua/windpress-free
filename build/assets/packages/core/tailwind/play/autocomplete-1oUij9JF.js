import{_ as M}from"../../../../lib-BTi-OLfO.js";import{a as j,b as m}from"../../../../intellisense-CYyfpAnp.js";import{s as r}from"../../../../set-DUhaJHkD.js";import"../../../../index-BHzFOpFs.js";import"../../../../_MapCache-IKV2IqD2.js";import"../../../../isObject-B0rSZd8A.js";import"../../../../index-BbP3371Q.js";import"../../../../isSymbol-CDeHjQme.js";(async()=>{var h;let d=[];const u=new BroadcastChannel("windpress"),l=document.querySelector('script[type="text/tailwindcss"]');l&&(_(l,c),new MutationObserver(async()=>{await c()}).observe(l,{characterData:!0,subtree:!0}));async function c(){d=j(M(await m())),u.postMessage({source:"windpress/autocomplete",target:"any",task:"windpress.main_css.saved.done"})}await c();function _(o,a){u.addEventListener("message",async n=>{const s=n.data;s.source==="windpress/dashboard"&&s.target==="windpress/observer"&&s.task==="windpress.main_css.saved"&&await a()})}function f(o){var a;return((a=o==null?void 0:o.find(n=>n.property.includes("color")))==null?void 0:a.value)||null}function y(o){if(o==="")return d.map(e=>({value:e.selector,color:f(e.declarations)}));let a=o.split(":"),n=a.slice(0,-1).join(":"),s=a.pop(),v="";s.startsWith("!")&&(s=s.slice(1),v="!");let t=!1;if(s.includes("/")){let[e,i]=s.split("/");i===""?(s=e,t=i):isNaN(i)||i<0||i>100?s=[e,i].join("/"):(s=e,t=parseInt(i))}let p=d.filter(e=>e.selector.includes(s));if(t!==!1){let e=[];const i=t===""?5:1,b=t===""||t>9?0:Math.floor((t*10+1)/10)*10,k=t===""||t>9?100:Math.ceil((t*10+1)/10)*10;p.forEach(g=>{for(let w=b;w<=k;w+=i)e.push({...g,selector:g.selector+"/"+w})}),p=e}return p.map(e=>({value:[n,(v?"!":"")+e.selector].filter(Boolean).join(":"),color:f(e.declarations)}))}(h=window.wp)!=null&&h.hooks&&(window.wp.hooks.addFilter("windpress.module.autocomplete","windpress",y),window.wp.hooks.addFilter("windpress.module.design_system.main_css","windpress",async()=>await m())),r(window,"windpress.loaded.module.autocomplete",!0),r(window,"windpress.module.autocomplete.query",o=>y(o)),r(window,"windpress.loaded.module.design_system",!0),r(window,"windpress.module.design_system.main_css",async()=>await m())})();
