import{C as y,b as f}from"../../../lib-C2qaLi0h.js";import{a as v}from"../../../intellisense-C9emlpGs.js";import{s as a}from"../../../set--h_0VhSf.js";import"../../../index-BHzFOpFs.js";import"../../../_MapCache-DN36xuwU.js";import"../../../index-BbP3371Q.js";(async()=>{var l;let c=[];const w=new BroadcastChannel("windpress"),i=document.querySelector('script[type="text/tailwindcss"]');i&&(m(i,d),new MutationObserver(async()=>{await d()}).observe(i,{characterData:!0,subtree:!0}));async function r(){const e=document.querySelector('script[type="text/tailwindcss"]'),s=e!=null&&e.textContent?atob(e.textContent):'@import "tailwindcss"';return(await f({entrypoint:"/main.css",volume:{"/main.css":s}})).css}async function d(){c=v(y(await r())),w.postMessage({source:"windpress/autocomplete",target:"any",task:"windpress.main_css.saved.done"})}await d();function m(e,s){w.addEventListener("message",async t=>{const n=t.data;n.source==="windpress/dashboard"&&n.target==="windpress/observer"&&n.task==="windpress.main_css.saved"&&await s()})}function u(e){var s;return((s=e==null?void 0:e.find(t=>t.property.includes("color")))==null?void 0:s.value)||null}function p(e){let s=e.split(":"),t=s.slice(0,-1).join(":"),n=s.pop();return c.filter(o=>o.selector.includes(n)).map(o=>({value:[t,o.selector].filter(Boolean).join(":"),color:u(o.declarations)}))}(l=window.wp)!=null&&l.hooks&&(window.wp.hooks.addFilter("windpress.module.autocomplete","windpress",p),window.wp.hooks.addFilter("windpress.module.design_system.main_css","windpress",async()=>await r())),a(window,"windpress.loaded.module.autocomplete",!0),a(window,"windpress.module.autocomplete.query",e=>p(e)),a(window,"windpress.loaded.module.design_system",!0),a(window,"windpress.module.design_system.main_css",async()=>await r())})();
