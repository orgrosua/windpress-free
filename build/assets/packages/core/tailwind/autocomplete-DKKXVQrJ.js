import{_ as M,b as x}from"../../../lib-CaXClALh.js";import{a as C}from"../../../intellisense-C6LKsBAx.js";import{s as r}from"../../../set-DMzY-ey4.js";import"../../../_MapCache-DN36xuwU.js";import"../../../index-BbP3371Q.js";(async()=>{var h;let c=[];const m=new BroadcastChannel("windpress"),d=document.querySelector('script[type="text/tailwindcss"]');d&&(b(d,p),new MutationObserver(async()=>{await p()}).observe(d,{characterData:!0,subtree:!0}));async function l(){const e=document.querySelector('script[type="text/tailwindcss"]'),n=e!=null&&e.textContent?atob(e.textContent):'@import "tailwindcss"';return(await x({entrypoint:"/main.css",volume:{"/main.css":n}})).css}async function p(){c=C(M(await l())),m.postMessage({source:"windpress/autocomplete",target:"any",task:"windpress.main_css.saved.done"})}await p();function b(e,n){m.addEventListener("message",async a=>{const t=a.data;t.source==="windpress/dashboard"&&t.target==="windpress/observer"&&t.task==="windpress.main_css.saved"&&await n()})}function y(e){var n;return((n=e==null?void 0:e.find(a=>a.property.includes("color")))==null?void 0:n.value)||null}function f(e){if(e==="")return c.map(s=>({value:s.selector,color:y(s.declarations)}));let n=e.split(":"),a=n.slice(0,-1).join(":"),t=n.pop(),v="";t.startsWith("!")&&(t=t.slice(1),v="!");let o=!1;if(t.includes("/")){let[s,i]=t.split("/");i===""?(t=s,o=i):isNaN(i)||i<0||i>100?t=[s,i].join("/"):(t=s,o=parseInt(i))}let w=c.filter(s=>s.selector.includes(t));if(o!==!1){let s=[];const i=o===""?5:1,g=o===""||o>9?0:Math.floor((o*10+1)/10)*10,k=o===""||o>9?100:Math.ceil((o*10+1)/10)*10;w.forEach(_=>{for(let u=g;u<=k;u+=i)s.push({..._,selector:_.selector+"/"+u})}),w=s}return w.map(s=>({value:[a,(v?"!":"")+s.selector].filter(Boolean).join(":"),color:y(s.declarations)}))}(h=window.wp)!=null&&h.hooks&&(window.wp.hooks.addFilter("windpress.module.autocomplete","windpress",f),window.wp.hooks.addFilter("windpress.module.design_system.main_css","windpress",async()=>await l())),r(window,"windpress.loaded.module.autocomplete",!0),r(window,"windpress.module.autocomplete.query",e=>f(e)),r(window,"windpress.loaded.module.design_system",!0),r(window,"windpress.module.design_system.main_css",async()=>await l())})();
