import{g as D}from"./isObject-B5R9K1Pz.js";import{A as U,a as V,n as x,r as N,al as z,w as _,k as X,l as Y,am as G,an as Z,ak as ee,s as te,c as F,O as ne}from"./runtime-core.esm-bundler-NvJfVFKg.js";function P(e){return X()?(Y(e),!0):!1}function M(e){return typeof e=="function"?e():U(e)}const re=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const oe=Object.prototype.toString,ae=e=>oe.call(e)==="[object Object]",W=()=>{};function ie(e,t){function n(...a){return new Promise((o,i)=>{Promise.resolve(e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})).then(o).catch(i)})}return n}const q=e=>e();function se(e=q){const t=N(!0);function n(){t.value=!1}function a(){t.value=!0}const o=(...i)=>{t.value&&e(...i)};return{isActive:z(t),pause:n,resume:a,eventFilter:o}}function ue(e){return G()}function le(...e){if(e.length!==1)return Z(...e);const t=e[0];return typeof t=="function"?z(ee(()=>({get:t,set:W}))):N(t)}function ce(e,t,n={}){const{eventFilter:a=q,...o}=n;return _(e,ie(a,t),o)}function fe(e,t,n={}){const{eventFilter:a,...o}=n,{eventFilter:i,pause:l,resume:m,isActive:y}=se(a);return{stop:ce(e,t,{...o,eventFilter:i}),pause:l,resume:m,isActive:y}}function B(e,t=!0,n){ue()?V(e,n):t?e():x(e)}function H(e){var t;const n=M(e);return(t=n==null?void 0:n.$el)!=null?t:n}const C=re?window:void 0;function K(...e){let t,n,a,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,a,o]=e,t=C):[t,n,a,o]=e,!t)return W;Array.isArray(n)||(n=[n]),Array.isArray(a)||(a=[a]);const i=[],l=()=>{i.forEach(f=>f()),i.length=0},m=(f,s,b,p)=>(f.addEventListener(s,b,p),()=>f.removeEventListener(s,b,p)),y=_(()=>[H(t),M(o)],([f,s])=>{if(l(),!f)return;const b=ae(s)?{...s}:s;i.push(...n.flatMap(p=>a.map(g=>m(f,p,g,b))))},{immediate:!0,flush:"post"}),v=()=>{y(),l()};return P(v),v}function de(){const e=N(!1),t=G();return t&&V(()=>{e.value=!0},t),e}function pe(e){const t=de();return F(()=>(t.value,!!e()))}function me(e,t={}){const{window:n=C}=t,a=pe(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let o;const i=N(!1),l=v=>{i.value=v.matches},m=()=>{o&&("removeEventListener"in o?o.removeEventListener("change",l):o.removeListener(l))},y=ne(()=>{a.value&&(m(),o=n.matchMedia(M(e)),"addEventListener"in o?o.addEventListener("change",l):o.addListener(l),i.value=o.matches)});return P(()=>{y(),m(),o=void 0}),i}const T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof D<"u"?D:typeof self<"u"?self:{},I="__vueuse_ssr_handlers__",ve=ge();function ge(){return I in T||(T[I]=T[I]||{}),T[I]}function R(e,t){return ve[e]||t}function he(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ye={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},$="vueuse-storage";function Q(e,t,n,a={}){var o;const{flush:i="pre",deep:l=!0,listenToStorageChanges:m=!0,writeDefaults:y=!0,mergeDefaults:v=!1,shallow:f,window:s=C,eventFilter:b,onError:p=r=>{console.error(r)},initOnMounted:g}=a,d=(f?te:N)(typeof t=="function"?t():t);if(!n)try{n=R("getDefaultStorage",()=>{var r;return(r=C)==null?void 0:r.localStorage})()}catch(r){p(r)}if(!n)return d;const w=M(t),k=he(w),S=(o=a.serializer)!=null?o:ye[k],{pause:L,resume:c}=fe(d,()=>j(d.value),{flush:i,deep:l,eventFilter:b});s&&m&&B(()=>{K(s,"storage",h),K(s,$,J),g&&h()}),g||h();function A(r,u){s&&s.dispatchEvent(new CustomEvent($,{detail:{key:e,oldValue:r,newValue:u,storageArea:n}}))}function j(r){try{const u=n.getItem(e);if(r==null)A(u,null),n.removeItem(e);else{const O=S.write(r);u!==O&&(n.setItem(e,O),A(u,O))}}catch(u){p(u)}}function E(r){const u=r?r.newValue:n.getItem(e);if(u==null)return y&&w!=null&&n.setItem(e,S.write(w)),w;if(!r&&v){const O=S.read(u);return typeof v=="function"?v(O,w):k==="object"&&!Array.isArray(O)?{...w,...O}:O}else return typeof u!="string"?u:S.read(u)}function h(r){if(!(r&&r.storageArea!==n)){if(r&&r.key==null){d.value=w;return}if(!(r&&r.key!==e)){L();try{(r==null?void 0:r.newValue)!==S.write(d.value)&&(d.value=E(r))}catch(u){p(u)}finally{r?x(c):c()}}}}function J(r){h(r.detail)}return d}function we(e){return me("(prefers-color-scheme: dark)",e)}function be(e={}){const{selector:t="html",attribute:n="class",initialValue:a="auto",window:o=C,storage:i,storageKey:l="vueuse-color-scheme",listenToStorageChanges:m=!0,storageRef:y,emitAuto:v,disableTransition:f=!0}=e,s={auto:"",light:"light",dark:"dark",...e.modes||{}},b=we({window:o}),p=F(()=>b.value?"dark":"light"),g=y||(l==null?le(a):Q(l,a,i,{window:o,listenToStorageChanges:m})),d=F(()=>g.value==="auto"?p.value:g.value),w=R("updateHTMLAttrs",(c,A,j)=>{const E=typeof c=="string"?o==null?void 0:o.document.querySelector(c):H(c);if(!E)return;let h;if(f&&(h=o.document.createElement("style"),h.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),o.document.head.appendChild(h)),A==="class"){const J=j.split(/\s/g);Object.values(s).flatMap(r=>(r||"").split(/\s/g)).filter(Boolean).forEach(r=>{J.includes(r)?E.classList.add(r):E.classList.remove(r)})}else E.setAttribute(A,j);f&&(o.getComputedStyle(h).opacity,document.head.removeChild(h))});function k(c){var A;w(t,n,(A=s[c])!=null?A:c)}function S(c){e.onChanged?e.onChanged(c,k):k(c)}_(d,S,{flush:"post",immediate:!0}),B(()=>S(d.value));const L=F({get(){return v?g.value:d.value},set(c){g.value=c}});try{return Object.assign(L,{store:g,system:p,state:d})}catch{return L}}export{Q as a,be as u};
