import{l as c}from"./logger-BTW-zIW3.js";const g=new BroadcastChannel("windpress");(function(){const i=window.XMLHttpRequest;function d(){const e=new i,p=e.open;return e.open=function(l,u){if(l==="POST"&&u.includes("v2/builderius")){const n=e.onreadystatechange;e.onreadystatechange=function(){var s,a,o,r;if(e.readyState===4&&e.status===200)try{const t=JSON.parse(e.responseText);(((a=(s=t.commit_entity)==null?void 0:s.errors)==null?void 0:a.length)===0||((r=(o=t.commit_global)==null?void 0:o.errors)==null?void 0:r.length)===0)&&g.postMessage({source:"windpress/integration",target:"windpress/dashboard",task:"windpress.generate-cache",payload:{force_pull:!0}})}catch(t){c("Failed to intercept the response.",t,{module:"generate-cache"})}n&&n.apply(this,arguments)}}p.apply(this,arguments)},e}window.XMLHttpRequest=d})(),c("Module loaded!",{module:"generate-cache"});
